## 2026-02-03 - [Widget Drag Optimization] **Learning:** Draggable widgets re-rendered their entire content on every pixel of movement because the parent passed a new `widget` object (with updated x/y). Standard `React.memo` failed because the `widget` prop reference changed. **Action:** Implemented a `InnerWidgetRenderer` component wrapped in `React.memo` with a custom comparison function. This function checks relevant widget properties but intentionally ignores `x` and `y` coordinates for most widgets, preventing re-renders during drag. Exceptions are made for position-aware widgets (like `catalyst`) which must re-render on move.

## 2026-02-03 - [DraggableWindow Direct DOM Manipulation] **Learning:** Even with `InnerWidgetRenderer` memoization, the `DraggableWindow` itself (and `GlassCard`) was re-rendering on every mouse move, and crucially, `updateWidget` was triggering a global `DashboardProvider` update, causing _all_ widgets in `DashboardView` to reconcile. **Action:** Refactored `DraggableWindow` to use a `dragState` ref and direct DOM manipulation (`style.left`, `style.top`, etc.) for non-position-aware widgets during drag/resize. `updateWidget` is now only called on `pointerup`, eliminating global re-renders during drag.

## 2026-02-03 - [Live Session Re-render Optimization] **Learning:** The `session` object in `DashboardView` updates on every keystroke/interaction (via `activeWidgetConfig`), causing ALL widgets to re-render because `WidgetRenderer` received the entire `session` object as a prop. **Action:** Refactored `WidgetRenderer` to accept stable primitives (`sessionCode`, `sessionFrozen`) instead of the volatile `session` object, allowing `React.memo` to effectively skip re-renders for inactive widgets.
